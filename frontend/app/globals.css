/* 1. Import Google Fonts */
@import url('https://fonts.googleapis.com/css2?family=Chakra+Petch:wght@300;400;500;600;700;900&display=swap');

/* 2. Import Tailwind v4 (บรรทัดนี้สำคัญที่สุด ห้ามลบ) */
@import "tailwindcss";

/* 3. Config Theme ใน CSS โดยตรง (แทน tailwind.config.js) */
@theme {
  --font-sans: "Chakra Petch", sans-serif;
  
  /* Custom Animations */
  --animate-pulse-slow: pulse 3s infinite;
  --animate-spin-slow: spinSlow 3s linear infinite;
  --animate-fade-in: fadeIn 0.6s cubic-bezier(0.22, 1, 0.36, 1) forwards;
  --animate-shake: shake 0.5s cubic-bezier(.36, .07, .19, .97) both;
  
  @keyframes spinSlow {
    to { transform: rotate(360deg); }
  }
  
  @keyframes fadeIn {
    from { opacity: 0; transform: scale(0.9); filter: blur(10px); }
    to { opacity: 1; transform: scale(1); filter: blur(0); }
  }

  @keyframes shake {
    0%, 100% { transform: translateX(0); }
    10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
    20%, 40%, 60%, 80% { transform: translateX(5px); }
  }
}

/* 4. Base Styles */
@layer base {
  body {
    /* ใช้ @apply ได้แล้ว เพราะ import tailwind มาแล้ว */
    @apply bg-black text-green-400 overflow-hidden select-none font-sans;
  }
}

/* 5. Game Components & Custom CSS */

/* --- Virus Grid --- */
.virus-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 8px;
  width: 100%;
  max-width: 360px;
  margin: 10px auto;
  perspective: 1000px;
}

.virus-cell {
  aspect-ratio: 1;
  background: rgba(16, 185, 129, 0.05);
  border: 1px solid rgba(16, 185, 129, 0.2);
  border-radius: 12px;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 2.2rem;
  cursor: pointer;
  position: relative;
  user-select: none;
  transition: transform 0.1s;
}

.virus-cell:active {
  transform: scale(0.9);
}

.has-virus {
  border-color: #ef4444;
  background: radial-gradient(circle, rgba(239, 68, 68, 0.2) 0%, transparent 70%);
  animation: shakeElement 0.5s infinite;
}

.has-file {
  border-color: #3b82f6;
  background: radial-gradient(circle, rgba(59, 130, 246, 0.2) 0%, transparent 70%);
}

.has-bomb {
  border-color: #f97316;
  background: radial-gradient(circle, rgba(249, 115, 22, 0.4) 0%, transparent 70%);
  animation: pulseBorder 0.5s infinite;
}

/* --- Keyframes for Game Elements --- */
@keyframes shakeElement {
  0%, 100% { transform: rotate(0deg); }
  25% { transform: rotate(-5deg); }
  75% { transform: rotate(5deg); }
}

@keyframes pulseBorder {
  0%, 100% {
    border-color: rgba(239, 68, 68, 0.5);
    box-shadow: 0 0 20px rgba(239, 68, 68, 0.2);
  }
  50% {
    border-color: rgba(239, 68, 68, 1);
    box-shadow: 0 0 40px rgba(239, 68, 68, 0.6);
  }
}

@keyframes floatUp {
  0% { transform: translateY(0) scale(1); opacity: 1; }
  100% { transform: translateY(-50px) scale(1.5); opacity: 0; }
}

/* --- Panel & Glassmorphism --- */
.glass-panel {
  background: rgba(10, 10, 10, 0.7);
  backdrop-filter: blur(16px);
  border: 2px solid rgba(255, 255, 255, 0.08);
  box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.5);
}

.cyber-panel {
  background: linear-gradient(160deg, rgba(20, 20, 20, 0.95) 0%, rgba(0, 0, 0, 0.98) 100%);
  backdrop-filter: blur(20px);
  border: 2px solid rgba(16, 185, 129, 0.3);
  border-radius: 2rem;
  box-shadow: 0 20px 50px rgba(0, 0, 0, 0.6), inset 0 0 30px rgba(16, 185, 129, 0.05);
}

.hud-card {
  box-shadow: 0 20px 50px -10px rgba(0, 0, 0, 0.8);
}

/* --- Buttons (Sleek Style) --- */
.btn-menu-sleek {
  @apply w-full p-3 md:p-4 rounded-xl flex justify-between items-center cursor-pointer transition-all duration-300;
  background: rgba(25, 25, 25, 0.7);
  border: 1px solid rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(5px);
}

.btn-menu-sleek:hover {
  transform: translateX(4px);
}

/* Color Variants */
.btn-menu-sleek.green:hover {
  border-color: rgba(16, 185, 129, 0.5);
  box-shadow: 0 5px 20px -5px rgba(16, 185, 129, 0.2);
}
.btn-menu-sleek.red:hover {
  border-color: rgba(239, 68, 68, 0.5);
  box-shadow: 0 5px 20px -5px rgba(239, 68, 68, 0.2);
}
.btn-menu-sleek.blue:hover {
  border-color: rgba(59, 130, 246, 0.5);
  box-shadow: 0 5px 20px -5px rgba(59, 130, 246, 0.2);
}

/* --- Buttons (Control Style) --- */
.btn-control {
  @apply relative w-full min-h-[85px] p-4 flex items-center gap-4 transition-all duration-200 cursor-pointer;
  background: linear-gradient(145deg, rgba(35, 35, 35, 0.9), rgba(20, 20, 20, 0.95));
  border: 2px solid rgba(255, 255, 255, 0.1);
  border-radius: 1rem;
  backdrop-filter: blur(12px);
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
}

.btn-control:hover:not(:disabled) {
  transform: translateY(-3px);
  background: linear-gradient(145deg, rgba(50, 50, 50, 0.95), rgba(30, 30, 30, 0.95));
}

.btn-control:active:not(:disabled) {
  transform: translateY(0);
}

/* --- Icons --- */
.icon-box {
  @apply w-9 h-9 flex justify-center items-center rounded-lg border transition-all duration-300;
  background: rgba(0, 0, 0, 0.4);
  border-color: rgba(16, 185, 129, 0.3);
  color: #10b981;
}

.btn-menu-sleek.green:hover .icon-box { background: #10b981; color: #000; border-color: #10b981; }
.btn-menu-sleek.red:hover .icon-box { background: #ef4444; color: #000; border-color: #ef4444; }
.btn-menu-sleek.blue:hover .icon-box { background: #3b82f6; color: #000; border-color: #3b82f6; }

/* --- Text Effects --- */
.float-text {
  position: absolute;
  font-weight: 900;
  font-size: 1.5rem;
  pointer-events: none;
  animation: floatUp 0.8s forwards;
  z-index: 50;
  text-shadow: 0 2px 4px rgba(0,0,0,0.8);
}

.screen-glitch {
  animation: glitch-anim 0.2s infinite;
  background-color: rgba(239, 68, 68, 0.1);
}

@keyframes glitch-anim {
  0% { transform: translate(0); }
  20% { transform: translate(-2px, 2px); }
  40% { transform: translate(-2px, -2px); }
  60% { transform: translate(2px, 2px); }
  80% { transform: translate(2px, -2px); }
  100% { transform: translate(0); }
}
@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --foreground-rgb: 255, 255, 255;
  --background-start-rgb: 0, 0, 0;
  --background-end-rgb: 0, 0, 0;
}

body {
  color: #fff;
  background-color: #050505;
  font-family: 'Chakra Petch', sans-serif;
  overflow-x: hidden;
}

/* --- ✅ Custom Scrollbar (ปุ่มเลื่อนสวยๆ) --- */
.custom-scrollbar::-webkit-scrollbar {
  width: 8px;
}
.custom-scrollbar::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 10px;
}
.custom-scrollbar::-webkit-scrollbar-thumb {
  background: #3f3f46; /* สีเทาเข้ม */
  border-radius: 10px;
  border: 2px solid rgba(0,0,0,0); /* ทำขอบมนๆ */
  background-clip: padding-box;
}
.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background: #10b981; /* สีเขียวเมื่อเอาเมาส์ชี้ */
}

/* Animation */
@keyframes enter {
  0% { opacity: 0; transform: translateY(10px); }
  100% { opacity: 1; transform: translateY(0); }
}
.animate-enter { animation: enter 0.5s ease-out forwards; }

/* แก้ไขสีพื้นหลังเวลาใช้ Auto-fill */
input:-webkit-autofill,
input:-webkit-autofill:hover, 
input:-webkit-autofill:focus, 
input:-webkit-autofill:active {
    /* 1. ใช้ Box Shadow ดันสีเข้ามาข้างในเพื่อกลบสีเหลือง */
    /* #0f172a คือสี hex ของ slate-900 (สีพื้นหลังธีมคุณ) */
    -webkit-box-shadow: 0 0 0 30px #0f172a inset !important;
    
    /* 2. บังคับสีตัวอักษรให้เป็นสีขาว */
    -webkit-text-fill-color: white !important;
    
    /* 3. เทคนิคทำให้พื้นหลังโปร่งใส (Delay การเปลี่ยนสีไปนานๆ) */
    transition: background-color 5000s ease-in-out 0s;
    
    /* ปรับขอบมนให้เท่ากับ input เดิม */
    border-radius: 0.75rem; 
}